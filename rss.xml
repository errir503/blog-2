<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Diel Duarte blog]]></title><description><![CDATA[Diel Duarte personal blog]]></description><link>https://dielduarte.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 01 Feb 2020 20:40:26 GMT</lastBuildDate><item><title><![CDATA[Um ano trabalhando remoto]]></title><description><![CDATA[Trabalhar remoto foi uma das melhores decis√µes que tomei at√© agora, espero que voc√™ possa aprender algo com a minha exp√™riencia. ‚Ä¶Mas isso‚Ä¶]]></description><link>https://dielduarte.github.io/pt-br/um-ano-trabalhando-remoto/</link><guid isPermaLink="false">https://dielduarte.github.io/pt-br/um-ano-trabalhando-remoto/</guid><pubDate>Mon, 20 Jan 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Trabalhar remoto foi uma das melhores decis√µes que tomei at√© agora, espero que voc√™ possa aprender algo com a minha exp√™riencia.&lt;/p&gt;
&lt;h3 class=&quot;subtitle--separator&quot;&gt;Primeiro de tudo,trabalho remoto n√£o significa qualidade de vida.&lt;/h3&gt;
&lt;p&gt;‚Ä¶Mas isso pode ajudar MUITO! Na minha humilde opini√£o pessoas que dizem que trabalho remoto √© qualidade de vida est√£o querendo te vender ou te passar uma vis√£o que n√£o √© 100% verdadeira. Sua qualidade de vida n√£o aumenta s√≥ porque voc√™ come√ßou a trabalhar remoto.&lt;/p&gt;
&lt;p&gt;O que ajuda muito na sua qualidade de vida √© a flexibilidade que o trabalho remoto te d√°.&lt;/p&gt;
&lt;h3&gt;Voc√™ n√£o precisa trabalhar todo dia no mesmo hor√°rio mais&lt;/h3&gt;
&lt;p&gt;De fato voc√™ apende muito sobre voc√™, como por exemplo qual o hor√°rio sou mais produtivo trabalhando? Qual o melhor hor√°rio para ir correr ou ir na academia? Qual o melhor hor√°rio para trabalhar naquela tarefa que precisa 100% do seu foco? E muitas outras perguntas‚Ä¶Agora voc√™ aprendeu sobre uma pessoa totalmente nova dentro de voc√™, que voc√™ nem sabia que existia. Isso √© maravilhoso! Mas tem alguns problemas que vamos conversar sobre o decorrer desse post.&lt;/p&gt;
&lt;h3&gt; Voc√™ n√£o precisa perder o seu tempo indo ao escrit√≥rio&lt;/h3&gt;
&lt;p&gt;Eu passei 5 anos indo da minha cidade para outra cidade para trabalhar/estudar, era apenas 50 minutos de dist√¢ncia. Em 5 anos, eu gastei 3 meses da minha vida apenas indo trabalhar.&lt;/p&gt;
&lt;p&gt;S√©rio, eu adoraria usar esses 3 meses de f√©rias, estudando, com minha familia/amigos. Qualquer coisa, menos no caminho para o trabalho.&lt;/p&gt;
&lt;p&gt;Tamb√©m √© importante te lembrar que voc√™ pode usar esse tempo para fazer algo produtivo, tempo √© vida,e essa √© uma chance √∫nica que nem todo mundo tem acesso. Pense sobre isso!&lt;/p&gt;
&lt;h3&gt;Voc√™ pode trabalhar em qualquer lugar&lt;/h3&gt; 
&lt;p&gt;‚Ä¶Se voc√™ tiver uma boa conex√£o de internet!!! Eu aposto que voc√™ j√° viu muitas fotos de pessoas trabalhando remoto na praia. Hmmm‚Ä¶ Me desculpe, mas n√£o existe uma boa conex√£o de internet na praia, pelo menos n√£o no Brasil.&lt;/p&gt;
&lt;p&gt;Mas √© verdade, eu literalmente posso trabalhar onde eu quiser. Esse ano eu viajei para os Estados Unidos 2 vezes, Chile uma vez, e agora estou indo para o Canad√°. Eu n√£o precisei pedir f√©rias para os meus chefes, eles n√£o se importam qual √© o meu timezone, a coisa mais importante √© entregar valor,resolver problemas e manter os projetos funcionando! N√£o importa onde vivo, meu timezone ou quem sou. No meu time temos pessoas do Brasil, R√∫ssia, √çndia, Pol√¥nia, Estados Unidos e mais‚Ä¶&lt;/p&gt;
&lt;h3&gt;Agora vem a qualidade de vida&lt;/h3&gt; 
&lt;p&gt;Quando voc√™ fecha o seu computador depois das 8 horas di√°rias e pode ser o melhor marido, filho, amigo ou simplesmente pode cuidar das suas coisas como, estudar sem ter que dormir menos de 8 horas por dia pra isso, tocar um instrumento musical dia de semana, viajar quando voc√™ quiser.&lt;/p&gt;
&lt;p&gt;Voc√™ tamb√©m precisa cuidar da sua sa√∫de, s√©rio, no come√ßo eu estava apenas comendo fast food e tive s√©rios problemas de sa√∫de muito r√°pido. Cuidar da sua sa√∫de, seu corpo e sua mente n√£o tem nada haver com trabalho remoto.&lt;/p&gt;
&lt;p&gt;Voc√™ tamb√©m pode ganhar mais e isso pode ajudar muito. Trabalhando remoto voc√™ pode trabalhar para empresas que pagam mais que a m√©dia, empresas no Brasil n√£o podem pagar um bom sal√°rio comparando com um sal√°rio em dol√°res. Vamos ser honestos, voc√™ pode ter uma vida muito melhor se voc√™ ganha melhor, isso √© conhecido como capitalismo! Eu sinceramente n√£o sei o qu√£o bom capitalismo √©, mas √© um fato.&lt;/p&gt;
&lt;h1&gt;E quais os problemas?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Ficar isolado.&lt;/li&gt;
&lt;li&gt;FOMO.&lt;/li&gt;
&lt;li&gt;Trabalhar mais de 8 horas por dia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Todos esses s√£o problemas que voc√™ tem que enfrentar ao trabalhar remoto se voc√™ n√£o se organizar bem, e eles podem trazer problemas s√©rios para voc√™.&lt;/p&gt;
&lt;h3&gt;Ficar isolado&lt;/h3&gt;
&lt;p&gt;Quando voc√™ come√ßa a trabalhar remoto voc√™ vai ficar muito mais tempo na sua casa do que antes, isso vai te for√ßar a ficar isolado do resto do mundo. √â importante que voc√™ tenha amigos, saia para almo√ßar/jantar, conhe√ßa novas pessoas indo em meetups, confer√™ncias e pratique exerc√≠cios f√≠sicos. Resumindo, SAIA DE CASA, converse com pessoas, fique mais tempo com sua fam√≠lia e amigos. N√£o fique isolado do resto do mundo.&lt;/p&gt;
&lt;h3&gt;FOMO ou sensa√ß√£o de estar perdendo algo&lt;/h3&gt;
&lt;p&gt;Eu n√£o posso te ajudar muito com isso, porque eu continuo aprendendo como lidar com isso. E isso √© um grande problema para muitas pessoas que trabalham remotamente. A melhor coisa a se fazer √© dar o seu 100% enquanto voc√™ est√° trabalhando e simplesmente ignorar totalmente quando voc√™ est√° offline. &lt;/p&gt;
&lt;p&gt;Quase 98% das coisas que acontecem no trabalho n√£o s√£o urgentes, eu recomendo muito a leitura do livro &lt;a href=&quot;https://www.amazon.com/Doesnt-Have-Be-Crazy-Work/dp/0062874780/ref=sr_1_1?crid=29HZM51PVO126&amp;#x26;keywords=it+doesn%27t+have+to+be+crazy+at+work&amp;#x26;qid=1579489696&amp;#x26;sprefix=it+doesn%2Caps%2C161&amp;#x26;sr=8-1&quot;&gt;it doesn‚Äôt have to be crazy at work&lt;/a&gt; para voc√™ entender mais sobre t√©cnicas para manter a sanidade no trabalho, sendo remoto ou n√£o.&lt;/p&gt;
&lt;h3&gt;Trabalhar mais do que 8 horas por dia&lt;/h3&gt;
&lt;p&gt;Pelo menos na minha experi√™ncia, isso n√£o acontece todos os dias. Mas conhe√ßo muitas pessoas que trabalham muito mais do que 8 horas por dia e √© normal, voc√™ sente uma press√£o que voc√™ mesmo coloca porque voc√™ n√£o tem mais seu chefe olhando voc√™ ‚Äútrabalhando‚Äù e a √∫nica forma de provar que voc√™ est√° trabalhando s√£o as suas entregas.&lt;/p&gt;
&lt;p&gt;Mas n√£o fique com medo, trabalhar √© um processo cont√≠nuo e voc√™ pode continuar amanh√£!&lt;/p&gt;
&lt;h1&gt;Vale a pena?&lt;/h1&gt;
&lt;p&gt;Como eu disse no come√ßo do texto, trabalhar remoto foi uma das melhores decis√µes que tomei at√© hoje na minha carreira. Seja seletivo, procure uma boa empresa com um bom ambiente para se trabalhar remoto e aproveite a sua nova vida!&lt;/p&gt;
&lt;p&gt;Eu espero que voc√™ tenha aprendido algo novo hoje! ‚ù§Ô∏è&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A year working remotely]]></title><description><![CDATA[Working remotely has been one of the best decisions that I have made up to this point. I hope you can learn something from my experience‚Ä¶]]></description><link>https://dielduarte.github.io/en/a-year-working-remotely/</link><guid isPermaLink="false">https://dielduarte.github.io/en/a-year-working-remotely/</guid><pubDate>Mon, 20 Jan 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Working remotely has been one of the best decisions that I have made up to this point. I hope you can learn something from my experience.&lt;/p&gt;
&lt;h3 class=&quot;subtitle--separator&quot;&gt;First of all, remote work doesn‚Äôt mean better quality of life.&lt;/h3&gt;
&lt;p&gt;‚Ä¶but it can help A LOT! in my humble opinion, people who say that remote work is better quality of life, they just wanna sell something to you that isn‚Äôt a hundred percent true. your quality of life doesn‚Äôt get better just because you started working remotely.&lt;/p&gt;
&lt;p&gt;what helps the most with your quality of life is the flexibility that remote work brings you &lt;/p&gt;
&lt;h3&gt;You don&apos;t have to work at the same time everyday anymore&lt;/h3&gt;
&lt;p&gt;In fact, you learn so much about yourself, like what time am I more productive? what‚Äôs the best time to go outside to run or go to the gym ? what‚Äôs the best time to work on a task that needs my entire focus ? and many more questions‚Ä¶ now you‚Äôve learned about a new person inside you, that you didn‚Äôt know before. THIS IS SICK! but has some trade offs, we are gonna talk more about it later.&lt;/p&gt;
&lt;h3&gt;You don&apos;t have to lose your time going to the office&lt;/h3&gt;
&lt;p&gt;I spent 5 years going from my city to another city to work/study, it was just 50 minutes away. In five years I spent 3 months in commuting time.&lt;/p&gt;
&lt;p&gt;seriously, I would love to use those three months for vacations,studying or spend this time with my family and friends. Anything, but not on my way to work‚Ä¶&lt;/p&gt;
&lt;p&gt;Is also important to remind you to do something productive with this time, time is life, and that‚Äôs a unique chance that few people have. think about it!&lt;/p&gt;
&lt;h3&gt;You can work anywhere&lt;/h3&gt; 
&lt;p&gt;‚Ä¶if you have internet!!! I doubt that you have seen pictures of people working at the beach, hmm‚Ä¶ I‚Äôm sorry, but there‚Äôs no good connection at the beach, at least not here in Brazil.&lt;/p&gt;
&lt;p&gt;But yeah, I literally can work anywhere I want to, this year I went to the USA two times, Chile one time, and now I‚Äôm going to Canada. I didn‚Äôt have to ask my boss for vacation time, they don‚Äôt care about my timezone, the important thing about my work is delivering value, solving problems, and keeping it working! doesn‚Äôt matter where I‚Äôm based, my timezone or who I am. In my team, we have people from Brazil, Russia, India, Poland, the USA and more‚Ä¶&lt;/p&gt;
&lt;h3&gt;Now comes the quality of life&lt;/h3&gt; 
&lt;p&gt;When you close your computer at a reasonable hour and can be the best spouse, child, friend, Or can care about your stuff, like studying without needing to sleep less than 8 hours for it, do your hobbies, like playing a musical instrument during the weekdays, travel anytime you want.&lt;/p&gt;
&lt;p&gt;you also need to care about your health, seriously, at the beginning I was eating just fast foods and I got serious problems really fast. Take care of your health, your body, and your mind. there‚Äôs no connection between good health and remote work.&lt;/p&gt;
&lt;p&gt;you can also make more money, and it can help a lot. As a remote worker you can work for companies that pay more than average, companies in Brazil can‚Äôt afford a good salary like a salary in dollars, and you can have a better life if you make more money, that‚Äôs capitalism! I‚Äôm not sure how much good is it, but it‚Äôs a fact.&lt;/p&gt;
&lt;h1&gt;How about trade offs?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Isolation&lt;/li&gt;
&lt;li&gt;FOMO &lt;/li&gt;
&lt;li&gt;Working more than 8 hours a day&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;all of these are trade offs of remote work if you don‚Äôt organize your day and your life, and they can bring serious problems to you.&lt;/p&gt;
&lt;h3&gt;Isolation&lt;/h3&gt;
&lt;p&gt;When you start working remotely, you will spend more time in your house than before, which will force you to be isolated from the rest of humanity. it‚Äôs important to have friends, go out to have dinner/lunch, find new groups like going to meetups, conferences, practice exercises. to sum it up, GO OUT, talk with people, spend more time with your family and friends. Don‚Äôt keep yourself isolated from the rest of the world.&lt;/p&gt;
&lt;h3&gt;FOMO&lt;/h3&gt;
&lt;p&gt;I can‚Äôt help you a lot with FOMO (feeling of missing out), ‚Äòcause I‚Äôm still learning how to deal with it. And that‚Äôs a huge problem for me, and other remote workers as well. The best stuff to do is give 100% of you when you are working and just ignore it totally when you are off. Again, almost 98% of things that happen aren‚Äôt urgent, and I need to highly recommend to you the book &lt;a href=&quot;https://www.amazon.com/Doesnt-Have-Be-Crazy-Work/dp/0062874780/ref=sr_1_1?crid=29HZM51PVO126&amp;#x26;keywords=it+doesn%27t+have+to+be+crazy+at+work&amp;#x26;qid=1579489696&amp;#x26;sprefix=it+doesn%2Caps%2C161&amp;#x26;sr=8-1&quot;&gt;it doesn‚Äôt have to be crazy at work&lt;/a&gt; to go deeper on these techniques to keep sanity at work, remotely or not.&lt;/p&gt;
&lt;h3&gt;Working more than 8 hours a day&lt;/h3&gt;
&lt;p&gt;At least in my experience, this doesn‚Äôt happen so often. But I know a lot of people who work remotely and work more than 8 hours a day. You feel a pressure that you put on yourself to show people that you are delivering stuff, cause now, you don‚Äôt have anyone watching you ‚Äúworking‚Äù in an office, the only proof that you are working are the things that you deliver.&lt;/p&gt;
&lt;p&gt;But don‚Äôt be afraid, work is a continuous process, you can continue tomorrow!&lt;/p&gt;
&lt;h1&gt;Is it worth it?&lt;/h1&gt;
&lt;p&gt;As I said at the beginning of this text, working remotely has been one of the best decisions that I did until this point. Be selective, find a good company that provides a healthy remote environment and enjoy your new life!&lt;/p&gt;
&lt;p&gt;I hope you‚Äôve learned something new today!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Mastering code splitting with webpack]]></title><description><![CDATA[code splitting is a build time process that splits pieces of your code into async chunks, let‚Äôs talk about how Webpack can help us to code‚Ä¶]]></description><link>https://dielduarte.github.io/en/mastering-code-splitting-with-webpack/</link><guid isPermaLink="false">https://dielduarte.github.io/en/mastering-code-splitting-with-webpack/</guid><pubDate>Wed, 17 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;code splitting is a build time process that splits pieces of your code into async chunks, let‚Äôs talk about how Webpack can help us to code split and achieve the goal of better website performance.&lt;/p&gt;
&lt;h2 class=&quot;subtitle--separator&quot;&gt;But first, How to know when I have to split my code?&lt;/h2&gt;
&lt;p&gt;The most expensive part of rendering websites is about downloading, and parsing  Javascript and css. That said, if we don‚Äôt need to render a specific piece of code on the first render, this code is a good candidate to split and be downloaded by demand, no secrets so far.&lt;/p&gt;
&lt;p&gt;Google Chrome has a nice dev tool called &lt;code class=&quot;language-text&quot;&gt;coverage&lt;/code&gt; that shows what percentage of the code delivered it‚Äôs being used. This might be used as a metric to follow and know how much code might be split and downloaded by demand. &lt;/p&gt;
&lt;p&gt;To use the coverage tool just open your dev tools, &lt;code class=&quot;language-text&quot;&gt;cmd/ctrl + p&lt;/code&gt;, and type &lt;code class=&quot;language-text&quot;&gt;show coverage&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/coverage.png&quot; alt=&quot;image showing how to access coverage tab on chrome dev tools&quot;&gt; &lt;/p&gt;
&lt;p&gt;then, on the coverage tab click on the reload button and wait until the website is reloaded, this will show you how much code you are using on that specific page per asset downloaded. It‚Äôs AMAZING! üòç&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/result.png&quot; alt=&quot;image showing coverage tab, where we can see a list of assets downloaded and how much code is not being used in red.&quot;&gt; &lt;/p&gt;
&lt;p&gt;In the example above, 46% of the code delivered is &lt;code class=&quot;language-text&quot;&gt;not&lt;/code&gt; being used! but that metric is also relative, depends on file size and many other variables, so the context/scenario is super important when using these tools.&lt;/p&gt;
&lt;h2&gt;Code splitting and webpack&lt;/h2&gt;
&lt;p&gt;With webpack we have two ways to work with code splitting, static and ‚Äúdynamic‚Äù imports, both using &lt;a href=&quot;https://v8.dev/features/dynamic-import&quot;&gt;dynamic imports es2020 feature&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Static import&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Good to use when importing heavy javascript libraries/modules&lt;/li&gt;
&lt;li&gt;Anything temporal - things that aren‚Äôt visible all the time on your page, tooltip, modal/dialog and even the rest of the page that comes only on scroll could be considered temporal&lt;/li&gt;
&lt;li&gt;Routes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To use static imports on your code just do: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or, even better, making a function to import the module when necessary, the import of the file itself is made just one time, then is cached and the next time calling the function the module is returned instantly, e.g:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getModule &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ‚áí &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;getModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Dynamic import&lt;/h3&gt;
&lt;p&gt;‚ÄúDynamic‚Äù imports aren‚Äôt really dynamic since they are made at build time. Using dynamic imports it‚Äôs like saying to Webpack: Hey Webpack, please do all possibilities of chunks in this specific path at build time. So in this way, we can pass the chunk file that we wanna import using variables which makes this process kinda dynamic.&lt;/p&gt;
&lt;p&gt;Considering we have a folder of themes like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;themes
  ‚îî‚îÄ‚îÄ dark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js
  ‚îî‚îÄ‚îÄ light&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As an example we can do like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ‚áí &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;getTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;theme&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way webpack will create chunks for each theme file inside the themes folder, this technique is called &lt;code class=&quot;language-text&quot;&gt;ContextModule&lt;/code&gt; into webpack code. &lt;/p&gt;
&lt;h2&gt;Magic comments&lt;/h2&gt;
&lt;h3&gt;webpackChunkName&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default webpack creates chunk names following a numeral order, 1.js, 2.js, 3.js which makes the process of debugging harder to recognize which file was imported. using &lt;code class=&quot;language-text&quot;&gt;webpackChunkName&lt;/code&gt; we can rename the chunk file, it‚Äôs important to remember that for this magic comment work we should be using the config &lt;code class=&quot;language-text&quot;&gt;output.chunkFileName: [name].whateverDoYouWantHere.js&lt;/code&gt; on webpack.config file.&lt;/p&gt;
&lt;p&gt;this is only helpful on dev mode, so we can do like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; part will be removed if the build is running in production mode, and the &lt;code class=&quot;language-text&quot;&gt;else&lt;/code&gt; part if in dev mode. This is known as dead-code elimination, tools like Uglify.js and others do that to reduce bundle size.&lt;/p&gt;
&lt;h3&gt;webpackMode&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackMode: &quot;lazy&quot; */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;the magic comment webpackMode has four types of value:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lazy: generate chunks for each dynamic imported module, perfect choice to be used in production mode.&lt;/li&gt;
&lt;li&gt;lazy-once: generate a single chunk that can satisfy all calls to import statement, perfect  choice to dev mode reducing the ‚Äúbundling‚Äù time.&lt;/li&gt;
&lt;li&gt;eager: generates no extra chunk, all modules are included in the current chunk and no additional network requests are made. &lt;/li&gt;
&lt;li&gt;weak: this is useful for universal rendering when required chunks are always manually served in initial requests, a Promise is still returned, but only successfully resolves if the chunks are already with the client. If the module is not available, the Promise is rejected. A network request will never be performed&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Prefetch and Preload&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackPrefetch: true */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackLoad: true */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;both comments above will create a link tag with &lt;code class=&quot;language-text&quot;&gt;rel=prefetch&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;rel=preload&lt;/code&gt; automatically for you, prefetching or preloading your chunks depends on the situation. if you don‚Äôt know what prefetch and preload links do, I highly recommend you to read that post &lt;a href=&quot;https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf&quot;&gt;Preload, Prefetch And Priorities in Chrome&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This were my notes of &lt;a href=&quot;https://frontendmasters.com/courses/performance-webpack/&quot;&gt;Web performance with webpack&lt;/a&gt; course, I hope you have learned something new today, see you next time! ‚ù§Ô∏è&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Dominando code splitting com webpack]]></title><description><![CDATA[Code Splitting √© um processo em build time que quebra parte do seu c√≥digo em pequenos peda√ßos que s√£o requisitados de forma ass√≠ncrona‚Ä¶]]></description><link>https://dielduarte.github.io/pt-br/dominando-code-splitting-com-webpack/</link><guid isPermaLink="false">https://dielduarte.github.io/pt-br/dominando-code-splitting-com-webpack/</guid><pubDate>Wed, 17 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Code Splitting √© um processo em build time que quebra parte do seu c√≥digo em pequenos peda√ßos que s√£o requisitados de forma ass√≠ncrona, apenas quando necess√°rio. Vamos conversar sobre como Webpack pode ajudar no processo de Code Splitting para atingir a meta de um site mais perform√°tico.&lt;/p&gt;
&lt;h2 class=&quot;subtitle--separator&quot;&gt;Mas primeiro, como saber quando eu tenho que quebrar o meu c√≥digo em pequenos peda√ßos (chunks)?&lt;/h2&gt;
&lt;p&gt;Os processos mais caros quando falamos sobre renderizar um Website s√£o os processos de download e parsing do Javascript e CSS. Sabendo desse fato, se n√≥s n√£o precisamos de uma parte espec√≠fica do c√≥digo no primeiro render, esse c√≥digo √© um √≥timo candidato para ser quebrado em uma outra parte e ser baixado sobre demanda. &lt;/p&gt;
&lt;p&gt;O Google Chrome tem uma √≥tima ferramenta chamada &lt;code class=&quot;language-text&quot;&gt;coverage&lt;/code&gt; que nos mostra qual porcentagem do c√≥digo baixado est√° ou n√£o est√° sendo usado. Isso pode ser usado como uma m√©trica para seguir e saber o quanto do c√≥digo baixado poderia ser quebrado em partes ass√≠ncronas.&lt;/p&gt;
&lt;p&gt;Para usar essa ferramenta abra o dev tools do Chrome, &lt;code class=&quot;language-text&quot;&gt;cmd/ctrl + p&lt;/code&gt;, e digite &lt;code class=&quot;language-text&quot;&gt;show coverage&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/coverage.png&quot; alt=&quot;imagem mostrando como acessar a janela coverage no dev tools do Chrome&quot;&gt; &lt;/p&gt;
&lt;p&gt;Uma vez que abrimos a op√ß√£o coverage, clique no bot√£o de reload e espere at√© que nosso site seja completamente carregado. Os resultados v√£o nos motrar o quanto do c√≥digo carregado por arquivo est√° sendo usado. √â maravilhoso! üòç&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/result.png&quot; alt=&quot;imagem mostrando a tab coverage, onde nos podemos ver a lista de arquivos baixados e o quanto do c√≥digo de cada arquivo est√° sendo usado.&quot;&gt; &lt;/p&gt;
&lt;p&gt;No exemplo abaixo, 46% do c√≥digo entregue &lt;code class=&quot;language-text&quot;&gt;n√£o&lt;/code&gt; est√° sendo usado, essa m√©trica tamb√©m √© relativa, dependende do tamanho do arquivo e de muitas outras vari√°veis. Ent√£o √© sempre bom entender o contexto que estamos trabalhando quando estivermos usando essas ferramentas.&lt;/p&gt;
&lt;h2&gt;Code splitting e webpack&lt;/h2&gt;
&lt;p&gt;Com Webpack nos temos duas formas de trabalhar com Code Splitting, imports est√°ticos e din√¢micos. As duas formas usam &lt;a href=&quot;https://v8.dev/features/dynamic-import&quot;&gt;dynamic imports, uma feature do es2020&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Imports est√°ticos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;√â bom para ser usado quanto estivermos importando bibliotecas/m√≥dulos de Javascript pesados.&lt;/li&gt;
&lt;li&gt;Qualquer parte do c√≥digo que chamamos de temporal, ou seja, coisas que n√£o s√£o v√≠siveis todo o tempo na sua p√°gina, exemplos: tooltips, modais/alertas.&lt;/li&gt;
&lt;li&gt;Rotas.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para usar imports est√°ticos no seu c√≥digo, √© muito simples: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ou ainda melhor, criando uma fun√ß√£o que importa o m√≥dulo quando necess√°rio. O import do arquivo √© feito apenas uma vez, depois da primeira √© cacheado e na pr√≥xima vez que usar a fun√ß√£o o m√≥dulo √© retornado instantaneamente, exemplo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getModule &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ‚áí &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;getModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Imports Dinamicos&lt;/h3&gt;
&lt;p&gt;Imports din√¢micos n√£o s√£o de verdade din√¢micos, porque eles acontecem em build time. Ao usar imports din√¢micos estamos dizendo para o Webpack: Ei Webpack, por favor, crie todos os chunks poss√≠veis para o caminho que eu estou te passando, seja uma pasta, ou v√°rias em build time. Dessa forma nos conseguimos usar vari√°veis o que torna esse processo de import ‚Äúdin√¢mico‚Äù.&lt;/p&gt;
&lt;p&gt;Vamos considerar que n√≥s temos uma pasta de temas, ex:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;themes
  ‚îî‚îÄ‚îÄ dark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js
  ‚îî‚îÄ‚îÄ light&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Como exemplo n√≥s poderiamos importar os temas assim:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; getTheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; ‚áí &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;getTheme&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;theme&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dessa forma o Webpack vai criar todos os poss√≠veis chunks em build time para cada tema dentro da pasta &lt;code class=&quot;language-text&quot;&gt;themes&lt;/code&gt;, essa t√©cnica √© chamada de &lt;code class=&quot;language-text&quot;&gt;ContextModule&lt;/code&gt; dentro do c√≥digo do Webpack.&lt;/p&gt;
&lt;h2&gt;Coment√°rios M√°gicos&lt;/h2&gt;
&lt;h3&gt;webpackChunkName&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Por default o Webpack cria os nomes dos chunks seguindo uma ordem num√©rica, 1.js, 2.js, 3.js, o que torna o processo de reconhecer quais arquivos foram importados dif√≠cil. Usando &lt;code class=&quot;language-text&quot;&gt;webpackChunkName&lt;/code&gt; n√≥s podemos renomear o chunk, √© importante lembrar que para esse coment√°rio m√°gico funcionar n√≥s devemos estar usando &lt;code class=&quot;language-text&quot;&gt;output.chunkFileName: [name].whateverDoYouWantHere.js&lt;/code&gt; no arquivo de configura√ß√£o do Webpack.&lt;/p&gt;
&lt;p&gt;Isso √© √∫til apenas no modo de desenvolvimento, ent√£o podemos fazer algo do tipo ao importar o arquivo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path/to/myModule.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O &lt;code class=&quot;language-text&quot;&gt;if&lt;/code&gt; vai ser removido se o build estiver sendo rodado em modo de produ√ß√£o, e o &lt;code class=&quot;language-text&quot;&gt;else&lt;/code&gt; se estiver rodando em modo de desenvolvimento. Isso √© conhecido como &lt;code class=&quot;language-text&quot;&gt;dead-code elimination&lt;/code&gt; ou em pt-br elimina√ß√£o do c√≥digo morto, ferramentas como Uglify.js e outras usam isso para reduzir o tamanho do arquivo final.&lt;/p&gt;
&lt;h3&gt;webpackMode&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackMode: &quot;lazy&quot; */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O coment√°rio m√°gico &lt;code class=&quot;language-text&quot;&gt;webpackMode&lt;/code&gt; pode receber 4 tipos de valores:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lazy: gera um chunk para cada arquivo importado dinamicamente, melhor op√ß√£o para ser usado em produ√ß√£o.&lt;/li&gt;
&lt;li&gt;lazy-once: gera um chunk apenas que pode satisfazer a condi√ß√£o do import din√¢mico, melhor op√ß√£o para o modo de desenvolvimento reduzindo o tempo de de gerar os arquivos finais do Webpack.&lt;/li&gt;
&lt;li&gt;eager: n√£o gera nenhum chunk extra, todos os m√≥dulos s√£o gerados em apenas um arquivo e nenhum request extra √© feito.&lt;/li&gt;
&lt;li&gt;weak: √∫til para universal rendering / ou server side rendering, onde os arquivos s√£o servidos manualmente no primeiro render. O que acontece √© que ao requisitar um m√≥dulo uma promisse √© sempre retornada, mas essa promisse s√≥ retorna com sucesso se requisitada pelo client side. Um novo request nunca √© feito, pois os arquivos j√° est√£o no client pois foram servidos pelo servidor.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Prefetch e Preload&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackPrefetch: true */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackLoad: true */&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;path/to/themes/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;theme&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Os dois coment√°rios m√°gicos, ir√£o criar uma tag link com &lt;code class=&quot;language-text&quot;&gt;rel=prefetch&lt;/code&gt; ou &lt;code class=&quot;language-text&quot;&gt;rel=preload&lt;/code&gt; automaticamente para voc√™ fazer o prefetching ou preloading dos seus chunks dependendo da implementa√ß√£o. Se voc√™ n√£o sabe o que prefetch e preload links fazem, eu recomendo
a leitura do post &lt;a href=&quot;https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf&quot;&gt;Preload, Prefetch And Priorities in Chrome&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essas foram minhas anota√ß√µes do curso &lt;a href=&quot;https://frontendmasters.com/courses/performance-webpack/&quot;&gt;Web performance with webpack&lt;/a&gt;. Espero que voc√™ tenha aprendido alguma coisa nova hoje, te vejo no pr√≥ximo post! ‚ù§Ô∏è&lt;/p&gt;</content:encoded></item></channel></rss>